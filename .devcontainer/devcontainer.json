{
  "name": "Laravel-React-MSSQL Project Setup",
  // Usaremos la imagen de Node como base para tener npm y node disponibles inmediatamente
  "image": "mcr.microsoft.com",
  "features": {
    // Instala Composer, PHP y dependencias en la imagen base
    "ghcr.io/devcontainers/features/php:1": {
      "version": "8.3",
      "install-extensions": true,
      "extensions": [
        "pdo",
        "pdo_sqlsrv",
        "sqlsrv"
      ]
    },
    // Instala Docker CLI dentro del contenedor para que docker-compose funcione
    "ghcr.io/devcontainers/features/docker-in-docker:1": {
      "version": "latest",
      "moby": {
        "installMoby": true
      }
    }
  },
  "forwardPorts": [80, 5173, 1433],
  "portsAttributes": {
    "80": {
      "label": "Aplicaci√≥n Web (Nginx)",
      "onAutoForward": "openBrowser"
    },
    "5173": {
        "label": "Vite/React Dev Server",
        "onAutoForward": "notify"
    }
  },
  "postCreateCommand": "./setup.sh"
}
